# **РОCСИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**
## Факультет физико-математических и естественных наук 
## Кафедра прикладной информатики и теории вероятностей 

## ОТЧЕТ
## ПО ЛАБОРАТОРНОЙ РАБОТЕ № 12

### *дисциплина: Операционные системы*

Студент: Юрченко Артём Алексеевич Группа: НФИбд-02-20

МОСКВА 

2021 г.

---

# Цель работы

Изучить основы программирования в оболочке ОС UNIX. Научится писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

# Выполнение лабораторной работы

1. Используя команды ```getopts``` и ```grep```, написали командный файл, который анализирует командную строку с ключами: -i inputfile — прочитать данные из указанного файла; -o outputfile — вывести данные в указанный файл; -p шаблон — указать шаблон для поиска; -C — различать большие и малые буквы; -n — выдавать номера строк. В итоге, наш скрипт ищет в указанном файле нужные строки, определяемые ключом -p.

    ![Исходный код](https://vk.com/doc459199812_615192751?hash=26d9729f59dbd694e7&dl=eb34cf9dabb1a36618&wnd=1)

    ![Текст](https://vk.com/doc459199812_615192753?hash=3104c10d19851daa03&dl=f09f960b3afb4911e8&wnd=1)

    ![Результат](https://vk.com/doc459199812_615192753?hash=3104c10d19851daa03&dl=f09f960b3afb4911e8&wnd=1)


2. Пишем на языке Си программу, которая вводит число и определяет, является ли оно больше нуля, меньше нуля или равно нулю. Затем программа завершается с помощью функции exit(n), передавая информацию в о коде завершения в оболочку. Командный файл вызывает эту программу и, проанализировав с помощью команды ```$?```, выдаёт сообщение о том, какое число было введено.

    ![Исходный код .cpp](https://vk.com/doc459199812_615192757?hash=4da70438ce4e186400&dl=2036395ef75c031b6f&wnd=1)

    ![Исходный код .sh](https://vk.com/doc459199812_615192754?hash=287bd826fcd15b4053&dl=8f0a9788bedf317e60&wnd=1)

    ![Результат](https://vk.com/doc459199812_615192755?hash=84d4b4751e9af23d26&dl=3d33087baee5b91461&wnd=1)


3. Пишем командный файл, который создат указанное число файлов, пронумерованных последовательно от 0 до N (например 0.tmp, 1.tmp, 2 tmp, 3.tmp, 4.tmp и т.д.). Число файлов, которые необходимо создать, передаётся в аргументы командной строки. Этот же командный файл умеет удалять все созданные им файлы.


   ![Исходный код](https://vk.com/doc459199812_615192758?hash=708d763f3a9cb81278&dl=c2eed1cde78ff78742&wnd=1)

   ![Результат](https://vk.com/doc459199812_615192761?hash=c45db0e3a04de75c06&dl=af14d9eef556762b70&wnd=1)

   ![Результат](https://vk.com/doc459199812_615192763?hash=ae0940e9712f67becb&dl=a61fefa974fb0d2061&wnd=1)

4. Пишем командный файл, который с помощью команды tar запаковывает в архив все файлы в указанной директории. Модифицируем его так, чтобы запаковывались только те файлы, которые были изменены менее недели тому назад (используем команду find). 

# Выводы

Мы изучили основы программирования в оболочке ОС UNIX. Закрепили знания, полученные в прошлых работах. Научиись писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

# Термины

* Командный процессор (командная оболочка, интерпретатор команд shell) — это программа, позволяющая пользователю взаимодействовать с операционной системой компьютера.

* POSIX (Portable Operating System Interface for Computer Environments) — набор стандартов описания интерфейсов взаимодействия операционной системы и прикладных программ. 

* Последовательность команд может быть помещена в текстовый файл. Такой файл называется командным.

* Флаги — это опции командной строки, обычно помеченные знаком минус; Например, для команды ls флагом может являться -F.

* Каталог, он же директория, (от англисйкого Directory) – это объект в ФС (файловой системе), необходимый для того, чтобы упросить работу с файлами.

* Домашний каталог - каталог, предназначенный для хранения собственных данных пользователя Linux. Как правило, является текущим непосредственно после регистрации пользователя в системе.

* Команда - записанный по специальным правилам текст (возможно с аргументами), представляющий собой указание на выполнение какой-либо функций (или действий) в операционной системе.